# 第5章 基本引用类型 #

**本章内容**
- 理解对象
- 基本JavaScript数据类型
- 原始值和原始值包装类型

::: tip 理解对象，区分对象和对象定义
- **对象**又称为**引用值**，**对象定义**又称为**引用类型**。
- **引用类型**是把**数据和功能**组织到一起的结构，它们描述了自己的对象应有的**属性和方法**。
- **引用值**是某个特定**引用类型的实例**，新对象通过使用`new`操作符后跟一个**构造函数**(constructor)来创建，构造函数就是用来创建新对象的函数。

下面这个例子为我们介绍了通过构造函数创建新对象：
``` js
let now = new Date();
```
在上例中，引用类型是`Data`，构造函数是`Date()`。构造函数`Date()`负责创建一个只有**默认属性和方法**的简单对象。ECMAScript提供了许多像`Date`这样的**原生引用类型**。
::: tip 注意
- 引用类型虽然有点像类，但跟类并不是一个概念。
- 函数也是一种引用类型，但它的内容多到一章放不下，所以用第10章专门介绍函数。
:::

## 5.1 Date

`Date`引用类型将日期保存为自**协调世界是**(UTC Universal Time Coordinated)时间1970年1月1日零时至今所经过的**毫秒数**。

要创建日期对象，就是用`new`操作符来调用`Date`构造函数：
``` js
let now = new Date(); // Thu Mar 25 2021 14:11:52 GMT+0800 (中国标准时间)
```

在不给`Data`构造函数传参时，创建的对象保存**当前的**日期和时间。要基于**其他的日期和时间**创建日期对象，需要传入其毫秒表示。为此，ECMAScript提供了两个辅助方法，用于**将日期转换为其毫秒表示**：

- `Date.parse()`方法

    该方法接收一个表示日期的字符串参数，将其转换为毫秒数。该字符串可以为以下日期格式：

    - "月/日/年"。如"5/23/2020"。
    - "月名 日, 年"。如"May 23, 2020"。
    - "周几 月名 日 年 时:分:秒 时区"。如"Thu May 23 2020 00:00:00 GTM-0700"。
    - "YYYY-MM-DDTHH:mm:ss"。如"2020-5-23T00:00:00"。

    当传入的参数不满足以上格式时，方法返回`NaN`。

    例如，要得到`2020年1月1日`零时的毫秒表示，可以这样写：
    ```js
    let timeStamp = Date.parse("2020-01-01T00:00:00");
    console.log(timeStamp); // 1577808000000
    ```
- `Date.UTC()`方法（目前看来不准确）

    该方法也返回日期的毫秒表示。但接收的**参数不同**，它接收的**参数格式**为 年、月(零起点，0-11)、日(1-31)、时(0-23)、分、秒和毫秒。只有**年和月必传**。如果不提供日，那么默认是1日，其他参数默认值是0。如下例：
    ``` js
    // GTM时间 2020年1月1日 零时
    let timeStamp = Date.UTC(2020, 0); // 1580572800000
    // 但是将这个时间戳转换为时间时，并没有得到期望的值，而是得到了当天上午八时
    new Date(Date.UTC(2020, 0)) // Wed Jan 01 2020 08:00:00 GMT+0800 (中国标准时间)

    // GTM时间 2020年1月1日 零时 全参数
    let timeStamp = Date.UTC(2020, 0, 1, 00, 00, 00); // 1580572800000
    ```

以上两个方法都会被`Date`构造函数**隐式调用**，**区别**在于 `Date.UTC()`返回的是由系统设置决定的本地日期，不是**GMT**（**格林威治时间/世界时**）日期。

`Date`构造函数还提供了`Date.now()`方法，返回**方法执行时日期和时间的毫秒数**，可以用来做**性能检测**，获取程序运行的耗时：
```js
// 起始时间
let t1 = Date.now();

// 调用函数
doSomeThing();

// 结束时间
let t2 = Date.now();

// 得到程序运行耗时
let result = t2 - t1;
```