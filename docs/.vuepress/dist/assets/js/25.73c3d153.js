(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{203:function(s,t,a){"use strict";a.r(t);var r=a(6),n=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"第2章-html中的javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第2章-html中的javascript"}},[s._v("#")]),s._v(" 第2章 HTML中的JavaScript")]),s._v(" "),a("p",[a("strong",[s._v("本章内容：")])]),s._v(" "),a("ul",[a("li",[s._v("使用<\\script>元素")]),s._v(" "),a("li",[s._v("行内脚本与外部脚本的比较")]),s._v(" "),a("li",[s._v("文档模式对JavaScript的影响")]),s._v(" "),a("li",[s._v("确保JavaScript不可用时的用户体验")])]),s._v(" "),a("h2",{attrs:{id:"_2-1-script元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-script元素"}},[s._v("#")]),s._v(" 2.1 script元素")]),s._v(" "),a("h3",{attrs:{id:"_2-1-1-script元素的8个属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-script元素的8个属性"}},[s._v("#")]),s._v(" 2.1.1 script元素的8个属性")]),s._v(" "),a("ul",[a("li",[s._v("async：可选。表示脚本立即下载，但是不会阻塞文档渲染，即异步加载，只对外部脚本文件有效。异步脚本不应该在加载期间修改DOM。")]),s._v(" "),a("li",[s._v("defer：可选。把脚本推迟到文档渲染完毕后再执行，只对外部脚本文件有效。")]),s._v(" "),a("li",[s._v("charset：可选。指定代码字符集，很少用，因为大多数浏览器don't care。")]),s._v(" "),a("li",[s._v("corssorigin：可选。配置相关请求的CORS（跨域资源共享）设置。默认不适用CORS。")]),s._v(" "),a("li",[s._v("integrity：可选。用于确保内容分发网络（CDN）不会提供恶意内容。")]),s._v(" "),a("li",[s._v("src：可选。表示包含要执行的代码的外部脚本文件。使用了src属性后，script标签中不应该再有行内代码，否则行内代码会被忽略。")]),s._v(" "),a("li",[s._v("language：废弃。")]),s._v(" "),a("li",[s._v('type：可选。代替language，表示代码块中脚本语言的内容类型（也称MIME类型）。通常值始终为"text/javascript"，如果值为"module",那么代码会被当成ES6模块，也只有这时代码中才能出现import和export关键字。')])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("包含在script标签内的代码会被从上到下解释，此时页面的其他内容不会被加载和显示。")]),s._v(" "),a("p",[s._v("在没有使用defer或者async属性时，浏览器会按照script标签在页面中出现的顺序依次解释它们。")]),s._v(" "),a("p",[s._v('在使用行内js代码时，注意代码块中不能出现字符串 "</ script>"，会被浏览器解析为结束的</ script>标签。可以用转义字符解决此问题，即<\\ /script>。')])]),s._v(" "),a("h3",{attrs:{id:"_2-1-2-标签位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-标签位置"}},[s._v("#")]),s._v(" 2.1.2 标签位置")]),s._v(" "),a("ul",[a("li",[s._v("应该放在</body>之前")])]),s._v(" "),a("h3",{attrs:{id:"_2-1-3-动态加载脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-动态加载脚本"}},[s._v("#")]),s._v(" 2.1.3 动态加载脚本")]),s._v(" "),a("ul",[a("li",[s._v("创建一个script元素并将其添加到DOM。")]),s._v(" "),a("li",[s._v("明确的将其设置为同步加载。因为script元素在被添加到DOM且执行到这段代码前不会发送请求，所以默认情况下这个创建的script元素的异步加载的，相当于为其添加了async属性，但是并不是所有浏览器都支持async。")]),s._v(" "),a("li",[s._v("在文档头部显示的声明它们。以这种方式获取的资源对浏览器预加载器是不可见的，可能会影响性能。")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 头部声明")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("head"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'preload'")]),s._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test.js'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("head"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 动态创建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nscript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nscript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("async "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("head"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_2-2-行内代码与外部文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-行内代码与外部文件"}},[s._v("#")]),s._v(" 2.2 行内代码与外部文件")]),s._v(" "),a("ul",[a("li",[s._v("最佳实践是尽可能将js代码放到外部文件中。优势如下：\n"),a("ul",[a("li",[s._v("可维护性。js代码分布在多个HTML文件中不好维护，而用一个目录保存所有的js文件易于维护。")]),s._v(" "),a("li",[s._v("缓存。浏览器会根据特定的设置缓存所有外部链接的js文件。这能够提升性能。")]),s._v(" "),a("li",[s._v("适应未来。无需考虑XHTML中的![CDATA[代码块]]和注释黑科技。")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-3-文档模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-文档模式"}},[s._v("#")]),s._v(" 2.3 文档模式")]),s._v(" "),a("ul",[a("li",[s._v("IE5.5发明了文档模式的概念，使用doctype切换文档模式，文档模式分为标准模式、混杂模式和准标准模式。其中标准和准标准非常接近，很少需要区分。\n"),a("ul",[a("li",[s._v("标准模式让IE具有兼容标准的行为。")]),s._v(" "),a("li",[s._v("混杂模式让IE支持一些非标准的特性。")]),s._v(" "),a("li",[s._v("两者区别主要体现在css渲染方面，但对js也有一些关联影响。")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-4-noscript-元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-noscript-元素"}},[s._v("#")]),s._v(" 2.4 noscript 元素")]),s._v(" "),a("ul",[a("li",[s._v("noscript元素是针对早起浏览器不支持script元素而出现的页面优雅降级的处理方案。现在浏览器已经100%支持script元素，但是对于禁用js的浏览器来说，noscript元素扔有用处。")]),s._v(" "),a("li",[s._v("noscript元素可以包含除script元素外任何可以出现在body元素中的元素，以下情况下，页面中会展示noscript元素中的内容：\n"),a("ul",[a("li",[s._v("浏览器不支持脚本。")]),s._v(" "),a("li",[s._v("浏览器对脚本的支持被关闭。")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);