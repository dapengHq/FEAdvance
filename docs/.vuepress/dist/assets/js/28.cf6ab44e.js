(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{207:function(s,t,a){"use strict";a.r(t);var n=a(6),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"第5章-基本引用类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第5章-基本引用类型"}},[s._v("#")]),s._v(" 第5章 基本引用类型")]),s._v(" "),a("p",[a("strong",[s._v("本章内容")])]),s._v(" "),a("ul",[a("li",[s._v("理解对象")]),s._v(" "),a("li",[s._v("基本JavaScript数据类型")]),s._v(" "),a("li",[s._v("原始值和原始值包装类型")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("理解对象，区分对象和对象定义")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("对象")]),s._v("又称为"),a("strong",[s._v("引用值")]),s._v("，"),a("strong",[s._v("对象定义")]),s._v("又称为"),a("strong",[s._v("引用类型")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("引用类型")]),s._v("是把"),a("strong",[s._v("数据和功能")]),s._v("组织到一起的结构，它们描述了自己的对象应有的"),a("strong",[s._v("属性和方法")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("引用值")]),s._v("是某个特定"),a("strong",[s._v("引用类型的实例")]),s._v("，新对象通过使用"),a("code",[s._v("new")]),s._v("操作符后跟一个"),a("strong",[s._v("构造函数")]),s._v("(constructor)来创建，构造函数就是用来创建新对象的函数。")])]),s._v(" "),a("p",[s._v("下面这个例子为我们介绍了通过构造函数创建新对象：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在上例中，引用类型是"),a("code",[s._v("Data")]),s._v("，构造函数是"),a("code",[s._v("Date()")]),s._v("。构造函数"),a("code",[s._v("Date()")]),s._v("负责创建一个只有"),a("strong",[s._v("默认属性和方法")]),s._v("的简单对象。ECMAScript提供了许多像"),a("code",[s._v("Date")]),s._v("这样的"),a("strong",[s._v("原生引用类型")]),s._v("。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("ul",[a("li",[s._v("引用类型虽然有点像类，但跟类并不是一个概念。")]),s._v(" "),a("li",[s._v("函数也是一种引用类型，但它的内容多到一章放不下，所以用第10章专门介绍函数。")])])])]),s._v(" "),a("h2",{attrs:{id:"_5-1-date"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-date"}},[s._v("#")]),s._v(" 5.1 Date")]),s._v(" "),a("p",[a("code",[s._v("Date")]),s._v("引用类型将日期保存为自"),a("strong",[s._v("协调世界是")]),s._v("(UTC Universal Time Coordinated)时间1970年1月1日零时至今所经过的"),a("strong",[s._v("毫秒数")]),s._v("。")]),s._v(" "),a("p",[s._v("要创建日期对象，就是用"),a("code",[s._v("new")]),s._v("操作符来调用"),a("code",[s._v("Date")]),s._v("构造函数：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Thu Mar 25 2021 14:11:52 GMT+0800 (中国标准时间)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在不给"),a("code",[s._v("Data")]),s._v("构造函数传参时，创建的对象保存"),a("strong",[s._v("当前的")]),s._v("日期和时间。要基于"),a("strong",[s._v("其他的日期和时间")]),s._v("创建日期对象，需要传入其毫秒表示。为此，ECMAScript提供了两个辅助方法，用于"),a("strong",[s._v("将日期转换为其毫秒表示")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("Date.parse()")]),s._v("方法")]),s._v(" "),a("p",[s._v("该方法接收一个表示日期的字符串参数，将其转换为毫秒数。该字符串可以为以下日期格式：")]),s._v(" "),a("ul",[a("li",[s._v('"月/日/年"。如"5/23/2020"。')]),s._v(" "),a("li",[s._v('"月名 日, 年"。如"May 23, 2020"。')]),s._v(" "),a("li",[s._v('"周几 月名 日 年 时:分:秒 时区"。如"Thu May 23 2020 00:00:00 GTM-0700"。')]),s._v(" "),a("li",[s._v('"YYYY-MM-DDTHH:mm:ss"。如"2020-5-23T00:00:00"。')])]),s._v(" "),a("p",[s._v("当传入的参数不满足以上格式时，方法返回"),a("code",[s._v("NaN")]),s._v("。")]),s._v(" "),a("p",[s._v("例如，要得到"),a("code",[s._v("2020年1月1日")]),s._v("零时的毫秒表示，可以这样写：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" timeStamp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-01-01T00:00:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("timeStamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1577808000000")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("Date.UTC()")]),s._v("方法（目前看来不准确）")]),s._v(" "),a("p",[s._v("该方法也返回日期的毫秒表示。但接收的"),a("strong",[s._v("参数不同")]),s._v("，它接收的"),a("strong",[s._v("参数格式")]),s._v("为 年、月(零起点，0-11)、日(1-31)、时(0-23)、分、秒和毫秒。只有"),a("strong",[s._v("年和月必传")]),s._v("。如果不提供日，那么默认是1日，其他参数默认值是0。如下例：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// GTM时间 2020年1月1日 零时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" timeStamp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1580572800000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 但是将这个时间戳转换为时间时，并没有得到期望的值，而是得到了当天上午八时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Wed Jan 01 2020 08:00:00 GMT+0800 (中国标准时间)")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// GTM时间 2020年1月1日 零时 全参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" timeStamp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1580572800000")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])]),s._v(" "),a("p",[s._v("以上两个方法都会被"),a("code",[s._v("Date")]),s._v("构造函数"),a("strong",[s._v("隐式调用")]),s._v("，"),a("strong",[s._v("区别")]),s._v("在于 "),a("code",[s._v("Date.UTC()")]),s._v("返回的是由系统设置决定的本地日期，不是"),a("strong",[s._v("GMT")]),s._v("（"),a("strong",[s._v("格林威治时间/世界时")]),s._v("）日期。")]),s._v(" "),a("p",[a("code",[s._v("Date")]),s._v("构造函数还提供了"),a("code",[s._v("Date.now()")]),s._v("方法，返回"),a("strong",[s._v("方法执行时日期和时间的毫秒数")]),s._v("，可以用来做"),a("strong",[s._v("性能检测")]),s._v("，获取程序运行的耗时：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 起始时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" t1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 调用函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doSomeThing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 结束时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" t2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 得到程序运行耗时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);